# Superstore

## Обзор проекта
Этот проект представляет собой комплексный анализ набора данных супермаркета, включающий загрузку данных, их очистку, хранение в PostgreSQL и проведение аналитических исследований. Проект состоит из трех основных компонентов:

1. Загрузка и подготовка данных

2. Анализ популярных и прибыльных категорий товаров

3. Проведение A/B теста для сравнения средних чеков между регионами

## Структура проекта
Проект состоит из трех основных файлов:

1. data_load.py - загрузка данных из Kaggle и их сохранение в PostgreSQL

2. analysis.py - анализ популярных и прибыльных категорий товаров

3. A_B_test.py - проведение A/B теста для сравнения регионов

## Описание файлов
### 1. Загрузка данных (data_load.py)
- Загрузка датасета с Kaggle с помощью Kaggle API

- Очистка текстовых данных от не-ASCII символов

- Загрузка данных в таблицу PostgreSQL для последующего анализа

### 2. Анализ категорий товаров (analysis.py)
- Идентификация наиболее популярных и прибыльных категорий товаров

- Определение товаров, которые стабильно входили в топ в течение заданного периода

- Визуализация результатов с помощью интерактивных круговых диаграмм и sunburst-диаграмм

### 3. A/B тестирование (A_B_test.py)
- Сравнение средних чеков между восточным и западным регионами

- Автоматический выбор статистического теста (t-тест или U-тест Манна-Уитни)

- Визуализация распределений с помощью боксплотов и гистограмм

## Технологический стек
- Python 3

- Pandas (для работы с данными)

- SQLAlchemy (для взаимодействия с PostgreSQL)

- Plotly и Seaborn (для визуализации)

- Scipy (для статистического анализа)

- Kaggle API (для загрузки данных)

## Результаты
Проект позволяет:

- Автоматизировать процесс загрузки и очистки данных супермаркета

- Выявлять наиболее стабильно популярные и прибыльные категории товаров

- Сравнивать эффективность продаж между разными регионами

- Принимать обоснованные решения на основе статистического анализа

## Анализ 

### В ходе работы с данными были получены диаграммы для наиболее прибыльных категорий товаров в период с 2014 по 2017 год:
![newplot (2)](https://github.com/user-attachments/assets/e8066592-fe24-442a-9ab5-5fea9f996c07)

Видим, что выделились две категории товаров, лидирующие по выручке: 
- Техника
- Канцелярские товары
  
Более детальная диаграмма:

![newplot (4)](https://github.com/user-attachments/assets/09739ca1-6c34-46e1-8316-474d7f9e0dec)

Из более детальной диаграммы следует, что самыми прибыльными товарами являются:
- Системы для скрепления документов
- Копировальные аппараты

### Вывод:
Наибольшую прибыль магазину приносят товары, связанные с офисной работой, следовательно, бизнесу предоставляются следующие рекомендации по увеличению выручки:
- Увеличить оборот наиболее прибыльных товаров
- Использовать стратегию кросс-селлинга, создавая товарные связки, исходя из соответствия товаров (например: копировальный аппарат + пачка бумаги)
  
### В ходе работы с данными были получены диаграммы для наиболее популярных категорий товаров в период с 2014 по 2017 год:

![newplot (13)](https://github.com/user-attachments/assets/1ac7cb0c-5cac-46ac-86fe-3f5a50913779)

Из диаграммы делаем вывод, что наиболее популярными категориями товаров являются:
- Техника
- Мебель

Более детальная диаграмма:

![newplot (11)](https://github.com/user-attachments/assets/7d6d6f30-47c8-4145-a5aa-9859d9838625)

Из более детальной диаграммы следует, что самыми популярными товарами являются:
- Стулья
- Смартфоны

### Вывод:

Очевидной взаимосвязи между стульями и смартфонами нет. Рекомендации для бизнеса по мерчандайзингу и маркетингу:
- Располагать наиболее популярные товары в глубине торгового зала для большего охвата товаров покупателем
- В маркетинговых решениях делать акцент на наиболее популярных товарах для привлечения большего числа покупателей


## A/B-тест
### Гипотеза: средний чек в западном регионе больше, чем в восточном
### Группы: 
- Группа A(контрольная): заказы из региона East
- Группа B(тестовая): заказы из региона West

Использовалась подвыборка данных <= 5000. Исходя из размеров подвыборки, для проверки данных на соответствие нормальному распределению был выбран тест Шапиро-Уилка. Тест показал, что данные не соответствуют нормальному распределению. Поэтому, для определения наличия статистически значимых различий использовался тест Манна-Уитни. Также, были вычислены значения средних чеков в 2-х регионах и разница между ними.

### Результаты теста и вычислений:
- Регион East: 1401 заказов, средний чек = $484.50
- Регион West: 1611 заказов, средний чек = $450.32
- Разница: $-34.18 (-7.1%)
- p-value: 0.5386 > 0.05, следовательно, статистические различия между двумя группами отсутствуют


### Визуализация: Боксплот, гистограмма и KDE
![Figure_1](https://github.com/user-attachments/assets/09e87734-24b4-4482-bde9-8e9ce764a86d)

Из боксплота видно, что медианы двух регионов практически совпадают, что соответствует полученному значению p_value > 0.05. Из анализа гистораммы и KDE следует, что наибольшее количество заказов в регионе East соответствуют большем чеку, в то время как в регионе West наибольшее количество заказов соответствуют меньшему чеку. 

### Выводы:
- Статистические различия между двумя группами отсутствуют
- Гипотеза опровергнута
- В регионе East покупатели предпочитают заказывать товары на большую сумму, но реже. В регионе West покупатели предпочитают заказывать товары на меньшую сумму но чаще. За счёт этого средние чеки отличаются достаточно мало (на 7.1%), что оказывается статистически незначимым.


### Ссылка на датасет:

https://www.kaggle.com/datasets/vivek468/superstore-dataset-final/data














